(()=>{function r(r,e){if(r&&r.length>0){var t=r;t.next(".portimg").attr("src",window.location.origin+"/img/default.png"),e||t.prev(".fileUpload").val(""),r.remove()}}CKEDITOR.replace("description"),$(".fileUpload").change((function(){var e=$(this);if(this.files&&this.files[0]){var t=new FileReader;t.onload=function(t){r(e.next(".delbtn"),!0),e.next(".portimg").attr("src",t.target.result).show(),e.after('<input type="button" class="delbtn btn btn-default" value="remove">')},t.readAsDataURL(this.files[0])}})),$("form").on("click",".delbtn",(function(e){r($(this))})),$("body").on("click",".reload",(function(){location.reload()})),$("body").on("submit","#updateProduct",(function(r){var e=$("#product_id").val();r.preventDefault(),$.ajax({type:"POST",url:"/product-management/edit/"+e,data:new FormData(this),processData:!1,contentType:!1,success:function(r){alert("Cập nhập thành công");var e=window.location.origin;window.location.href=e+"/product-management"},error:function(r){var e=r.responseJSON.errors.product_name,t=r.responseJSON.errors.product_price,o=r.responseJSON.errors.description,n=r.responseJSON.errors.is_sales,i=r.responseJSON.errors.product_image;$.isEmptyObject(e)&&$("#errorName").html(""),$("#errorName").html(e),$.isEmptyObject(t)&&$("#errorPrice").html(""),$("#errorPrice").html(t),$.isEmptyObject(o)&&$("#errorDescription").html(""),$("#errorDescription").html(o),$.isEmptyObject(n)&&$("#errorSales").html(""),$("#errorSales").html(n),$.isEmptyObject(i)&&$("#errorImage").html(""),$("#errorImage").html(i)}})}))})();